{"ast":null,"code":"var _jsxFileName = \"/home/alexxpain/shop/frontend/src/components/forms/ProductForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductForm = ({\n  onSubmit,\n  categories,\n  subcategories\n}) => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue\n  } = useForm();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const handleFormSubmit = data => {\n    // Create a FormData object and append the selected file to it\n    const formData = new FormData();\n    formData.append('name', data.name);\n    formData.append('description', data.description);\n    formData.append('price', data.price);\n    formData.append('CategoryId', data.CategoryId);\n    formData.append('SubcategoryId', data.SubcategoryId);\n    if (selectedFile) {\n      formData.append('productImage', selectedFile);\n    }\n    onSubmit(formData); // Call the onSubmit prop with the FormData\n    reset(); // Reset the form after submission\n    // Reset the selected file\n    setSelectedFile(null);\n    // Reset the file input field (uncontrolled component)\n    setValue('productImage', null);\n  };\n\n  // Function to handle file input change\n  const handleImageUpload = event => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(handleFormSubmit),\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Product Name\",\n      ...register('name', {\n        required: true\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"Product Description\",\n      ...register('description', {\n        required: true\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      placeholder: \"Product Price\",\n      ...register('price', {\n        required: true,\n        valueAsNumber: true\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      name: \"productImage\",\n      accept: \"image/*\" // Accept only image files\n      ,\n      onChange: handleImageUpload // Handle file input change\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), selectedFile && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: URL.createObjectURL(selectedFile),\n      alt: \"Selected\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ...register('CategoryId', {\n        required: true,\n        valueAsNumber: true\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: category.id,\n        children: category.name\n      }, category.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      ...register('SubcategoryId', {\n        required: true,\n        valueAsNumber: true\n      }),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Subcategory\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), subcategories.map(subcategory => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: subcategory.id,\n        children: subcategory.name\n      }, subcategory.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductForm, \"idqccykGVzM79wYEJcW1yk97Tjg=\", false, function () {\n  return [useForm];\n});\n_c = ProductForm;\nexport default ProductForm;\nvar _c;\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["React","useState","useForm","jsxDEV","_jsxDEV","ProductForm","onSubmit","categories","subcategories","_s","register","handleSubmit","reset","setValue","selectedFile","setSelectedFile","handleFormSubmit","data","formData","FormData","append","name","description","price","CategoryId","SubcategoryId","handleImageUpload","event","file","target","files","children","type","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","valueAsNumber","accept","onChange","src","URL","createObjectURL","alt","value","map","category","id","subcategory","_c","$RefreshReg$"],"sources":["/home/alexxpain/shop/frontend/src/components/forms/ProductForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\n\nconst ProductForm = ({ onSubmit, categories, subcategories }) => {\n    const { register, handleSubmit, reset, setValue } = useForm();\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const handleFormSubmit = (data) => {\n        // Create a FormData object and append the selected file to it\n        const formData = new FormData();\n        formData.append('name', data.name);\n        formData.append('description', data.description);\n        formData.append('price', data.price);\n        formData.append('CategoryId', data.CategoryId);\n        formData.append('SubcategoryId', data.SubcategoryId);\n        if (selectedFile) {\n            formData.append('productImage', selectedFile);\n        }\n\n        onSubmit(formData); // Call the onSubmit prop with the FormData\n        reset(); // Reset the form after submission\n        // Reset the selected file\n        setSelectedFile(null);\n        // Reset the file input field (uncontrolled component)\n        setValue('productImage', null);\n    };\n\n    // Function to handle file input change\n    const handleImageUpload = (event) => {\n        const file = event.target.files[0];\n        setSelectedFile(file);\n    };\n\n    return (\n        <form onSubmit={handleSubmit(handleFormSubmit)}>\n            <input\n                type=\"text\"\n                placeholder=\"Product Name\"\n                {...register('name', { required: true })}\n            />\n\n            <textarea\n                placeholder=\"Product Description\"\n                {...register('description', { required: true })}\n            />\n\n            <input\n                type=\"number\"\n                placeholder=\"Product Price\"\n                {...register('price', { required: true, valueAsNumber: true })}\n            />\n\n            {/* File input for Photography URL */}\n            <input\n                type=\"file\"\n                name=\"productImage\"\n                accept=\"image/*\" // Accept only image files\n                onChange={handleImageUpload} // Handle file input change\n            />\n            {selectedFile && (\n                <img src={URL.createObjectURL(selectedFile)} alt=\"Selected\" />\n            )}\n            <select {...register('CategoryId', { required: true, valueAsNumber: true })}>\n                <option value=\"\">Select Category</option>\n                {categories.map((category) => (\n                    <option key={category.id} value={category.id}>\n                        {category.name}\n                    </option>\n                ))}\n            </select>\n\n            <select {...register('SubcategoryId', { required: true, valueAsNumber: true })}>\n                <option value=\"\">Select Subcategory</option>\n                {subcategories.map((subcategory) => (\n                    <option key={subcategory.id} value={subcategory.id}>\n                        {subcategory.name}\n                    </option>\n                ))}\n            </select>\n\n            <button type=\"submit\">Add Product</button>\n        </form>\n    );\n};\n\nexport default ProductForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}